# åä½œæ€ç»´å¯¼å›¾ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Vue.js + Django + WebSocket çš„å®æ—¶åä½œæ€ç»´å¯¼å›¾å¹³å°ï¼Œæ”¯æŒå¤šç”¨æˆ·å®æ—¶ç¼–è¾‘ã€æƒé™ç®¡ç†å’ŒèŠ‚ç‚¹çº§åˆ«çš„åä½œæ§åˆ¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### åç«¯åŠŸèƒ½
- **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**: Django Session è®¤è¯ï¼Œæ”¯æŒç™»å½•/æ³¨å†Œ/ç™»å‡º
- **é¡¹ç›®ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤é¡¹ç›®ï¼Œæ”¯æŒæˆå‘˜é‚€è¯·å’Œæƒé™ç®¡ç†
- **æ€ç»´å¯¼å›¾èŠ‚ç‚¹**: å®Œæ•´çš„ CRUD æ“ä½œï¼Œæ”¯æŒå±‚çº§ç»“æ„å’Œå¯Œæ–‡æœ¬
- **æƒé™æ§åˆ¶**: é¡¹ç›®çº§æƒé™ï¼ˆread/edit/adminï¼‰+ èŠ‚ç‚¹çº§æ‰€æœ‰æƒ
- **å®æ—¶åä½œæ¡†æ¶**: Django Channels + WebSocket æ”¯æŒ
- **RESTful API**: å®Œæ•´çš„ API æ¥å£ï¼Œæ”¯æŒ CORS å’Œ CSRF ä¿æŠ¤

#### å‰ç«¯åŠŸèƒ½
- **ç°ä»£åŒ–ç•Œé¢**: Vue 3 + Element Plusï¼Œå“åº”å¼è®¾è®¡
- **ç”¨æˆ·è®¤è¯**: ç™»å½•/æ³¨å†Œé¡µé¢ï¼Œè‡ªåŠ¨CSRFå¤„ç†
- **é¡¹ç›®ç®¡ç†**: é¡¹ç›®åˆ—è¡¨ã€åˆ›å»ºã€æ“ä½œé¢æ¿
- **æ€ç»´å¯¼å›¾ç¼–è¾‘å™¨**: é›†æˆ simple-mind-mapï¼Œæ”¯æŒèŠ‚ç‚¹ç¼–è¾‘å’Œæ ·å¼è‡ªå®šä¹‰
- **å®æ—¶çŠ¶æ€**: WebSocket è¿æ¥çŠ¶æ€æ˜¾ç¤ºï¼Œåœ¨çº¿ç”¨æˆ·ç»Ÿè®¡
- **å¼€å‘å·¥å…·**: è°ƒè¯•é¡µé¢ï¼ŒAPI æµ‹è¯•å·¥å…·

### ğŸš§ å¼€å‘ä¸­åŠŸèƒ½
- WebSocket å®æ—¶åä½œé€»è¾‘
- æˆå‘˜ç®¡ç†ç•Œé¢
- æ–‡ä»¶ä¸Šä¼ å’Œå¯¼å‡ºåŠŸèƒ½
- ç§»åŠ¨ç«¯ä¼˜åŒ–

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Django 5.2**: Web æ¡†æ¶
- **Django REST Framework**: API å¼€å‘
- **Django Channels**: WebSocket æ”¯æŒ
- **SQLite**: æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- **Redis**: Channel Layerï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 3**: å‰ç«¯æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Element Plus**: UI ç»„ä»¶åº“
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Vue Router**: è·¯ç”±ç®¡ç†
- **Axios**: HTTP å®¢æˆ·ç«¯
- **Simple Mind Map**: æ€ç»´å¯¼å›¾ç»„ä»¶

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.11+
- Node.js 18+
- pnpm æˆ– npm

### åç«¯è®¾ç½®

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
cd backend
python -m venv venv
source venv/bin/activate  # macOS/Linux
# æˆ– venv\Scripts\activate  # Windows

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. æ•°æ®åº“è¿ç§»
python manage.py migrate

# 4. åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver
```

### å‰ç«¯è®¾ç½®

```bash
# 1. å®‰è£…ä¾èµ–
cd frontend
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### è®¿é—®åº”ç”¨

- å‰ç«¯åº”ç”¨: http://localhost:5173
- åç«¯ API: http://localhost:8000
- Django ç®¡ç†åå°: http://localhost:8000/admin
- è°ƒè¯•å·¥å…·: http://localhost:5173/debug

## æµ‹è¯•è´¦æˆ·

ç³»ç»Ÿå·²åˆ›å»ºæµ‹è¯•è´¦æˆ·å’Œæ•°æ®ï¼š

- **ç®¡ç†å‘˜è´¦æˆ·**: admin / admin
- **æµ‹è¯•ç”¨æˆ·**: test / test123
- **æµ‹è¯•é¡¹ç›®**: "æµ‹è¯•æ€ç»´å¯¼å›¾é¡¹ç›®" (ID: 2)

## API æ–‡æ¡£

### ç”¨æˆ·è®¤è¯
- `GET /api/csrf/` - è·å– CSRF Token
- `POST /api/users/login/` - ç”¨æˆ·ç™»å½•
- `POST /api/users/logout/` - ç”¨æˆ·ç™»å‡º
- `GET /api/users/me/` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/dashboard/` - è·å–ç”¨æˆ·ä»ªè¡¨æ¿

### é¡¹ç›®ç®¡ç†
- `GET /api/projects/` - è·å–é¡¹ç›®åˆ—è¡¨
- `POST /api/projects/` - åˆ›å»ºé¡¹ç›®
- `GET /api/projects/{id}/` - è·å–é¡¹ç›®è¯¦æƒ…
- `PUT /api/projects/{id}/` - æ›´æ–°é¡¹ç›®
- `DELETE /api/projects/{id}/` - åˆ é™¤é¡¹ç›®

### æ€ç»´å¯¼å›¾
- `GET /api/projects/{id}/nodes/` - è·å–é¡¹ç›®æ‰€æœ‰èŠ‚ç‚¹
- `POST /api/projects/{id}/nodes/` - åˆ›å»ºæ–°èŠ‚ç‚¹
- `GET /api/projects/{id}/nodes/tree/` - è·å–æ ‘å½¢ç»“æ„
- `GET /api/projects/{id}/nodes/simple-mind-map/` - è·å– simple-mind-map æ ¼å¼æ•°æ®

## æ•°æ®åº“æ¨¡å‹

### æ ¸å¿ƒæ¨¡å‹å…³ç³»
```
User (ç”¨æˆ·)
â”œâ”€â”€ Project (é¡¹ç›®åˆ›å»ºè€…)
â”œâ”€â”€ ProjectMember (é¡¹ç›®æˆå‘˜)
â””â”€â”€ MindMapNode (èŠ‚ç‚¹åˆ›å»ºè€…)

Project (é¡¹ç›®)
â”œâ”€â”€ ProjectMember (æˆå‘˜å…³ç³»)
â”œâ”€â”€ MindMapNode (é¡¹ç›®èŠ‚ç‚¹)
â””â”€â”€ NodeEditLog (ç¼–è¾‘æ—¥å¿—)

MindMapNode (æ€ç»´å¯¼å›¾èŠ‚ç‚¹)
â”œâ”€â”€ çˆ¶å­å…³ç³» (self-referencing)
â”œâ”€â”€ åˆ›å»ºè€…å…³ç³»
â””â”€â”€ ç¼–è¾‘æ—¥å¿—
```

### æƒé™ç³»ç»Ÿ
- **é¡¹ç›®çº§æƒé™**: readï¼ˆåªè¯»ï¼‰ã€editï¼ˆç¼–è¾‘ï¼‰ã€adminï¼ˆç®¡ç†ï¼‰
- **èŠ‚ç‚¹çº§æƒé™**: ç”¨æˆ·åªèƒ½ç¼–è¾‘è‡ªå·±åˆ›å»ºçš„èŠ‚ç‚¹ï¼Œä½†å¯ä»¥ä¸ºä»»ä½•èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹

## å¼€å‘çŠ¶æ€

### å½“å‰é‡Œç¨‹ç¢‘: MVP æ ¸å¿ƒåŠŸèƒ½ âœ…

#### å·²å®Œæˆ
1. âœ… ç”¨æˆ·è®¤è¯å’Œä¼šè¯ç®¡ç†
2. âœ… é¡¹ç›® CRUD å’Œæˆå‘˜ç®¡ç†
3. âœ… æ€ç»´å¯¼å›¾èŠ‚ç‚¹ CRUD
4. âœ… åŸºç¡€æƒé™æ§åˆ¶
5. âœ… RESTful API å®Œæ•´å®ç°
6. âœ… å‰ç«¯ Vue åº”ç”¨æ¡†æ¶
7. âœ… Simple Mind Map é›†æˆ
8. âœ… CSRF å’Œ CORS é…ç½®

### ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘: å®æ—¶åä½œ

#### å¾…å®Œæˆ
1. ğŸš§ WebSocket å®æ—¶åŒæ­¥é€»è¾‘
2. ğŸš§ å†²çªæ£€æµ‹å’Œè§£å†³
3. ğŸš§ ç”¨æˆ·å…‰æ ‡å’Œé€‰æ‹©åŒæ­¥
4. ğŸš§ æ“ä½œå†å²å’Œæ’¤é”€åŠŸèƒ½

### æœªæ¥åŠŸèƒ½
- ğŸ“‹ æ–‡ä»¶ä¸Šä¼ å’Œå›¾ç‰‡æ”¯æŒ
- ğŸ“‹ å¤šç§å¯¼å‡ºæ ¼å¼ï¼ˆPDFã€PNGã€SVGï¼‰
- ğŸ“‹ æ¨¡æ¿ç³»ç»Ÿ
- ğŸ“‹ è¯„è®ºå’Œæ ‡æ³¨åŠŸèƒ½
- ğŸ“‹ ç§»åŠ¨ç«¯åº”ç”¨
- ğŸ“‹ éƒ¨ç½²å’Œ DevOps é…ç½®

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/AmazingFeature`
5. åˆ›å»º Pull Request

## è®¸å¯è¯

[MIT License](LICENSE)

## æ›´æ–°æ—¥å¿—

### v0.1.0 (2025-07-02)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… å®Œæˆæ ¸å¿ƒ MVP åŠŸèƒ½
- âœ… å‰åç«¯åˆ†ç¦»æ¶æ„
- âœ… åŸºç¡€æ€ç»´å¯¼å›¾ç¼–è¾‘
- âœ… ç”¨æˆ·è®¤è¯å’Œé¡¹ç›®ç®¡ç†
