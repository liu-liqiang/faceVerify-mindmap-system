# åœ¨çº¿é¡¹ç›®åä½œç³»ç»Ÿ

åŸºäºVue + Djangoçš„å®æ—¶åä½œæ€ç»´å¯¼å›¾ç³»ç»Ÿï¼Œæ”¯æŒå¤šç”¨æˆ·åŒæ—¶ç¼–è¾‘ï¼Œå…·å¤‡å®Œæ•´çš„æƒé™ç®¡ç†å’Œå®æ—¶åŒæ­¥åŠŸèƒ½ã€‚

## é¡¹ç›®ç‰¹æ€§

- ğŸ¯ **å®æ—¶åä½œ**: åŸºäºWebSocketçš„å®æ—¶å¤šäººåä½œç¼–è¾‘
- ğŸ” **æƒé™ç®¡ç†**: çµæ´»çš„é¡¹ç›®æƒé™æ§åˆ¶ï¼ˆåªè¯»ã€ç¼–è¾‘ã€ç®¡ç†å‘˜ï¼‰
- ğŸŒ³ **æ€ç»´å¯¼å›¾**: é›†æˆsimple-mind-mapï¼Œæ”¯æŒä¸°å¯Œçš„èŠ‚ç‚¹ç¼–è¾‘åŠŸèƒ½
- ğŸ“Š **é¡¹ç›®ç®¡ç†**: å®Œæ•´çš„é¡¹ç›®åˆ›å»ºã€ç®¡ç†å’Œæˆå‘˜é‚€è¯·åŠŸèƒ½
- ğŸ¨ **ç°ä»£UI**: åŸºäºElement Plusçš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- ğŸ“± **å“åº”å¼**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯è®¿é—®

## æŠ€æœ¯æ ˆ

### åç«¯
- **Django 5.2**: Python Webæ¡†æ¶
- **Django REST Framework**: APIå¼€å‘æ¡†æ¶
- **Django Channels**: WebSocketæ”¯æŒ
- **SQLite3**: æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- **Redis**: ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—

### å‰ç«¯
- **Vue 3**: å‰ç«¯æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Element Plus**: UIç»„ä»¶åº“
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Vue Router**: è·¯ç”±ç®¡ç†
- **Axios**: HTTPå®¢æˆ·ç«¯
- **Simple Mind Map**: æ€ç»´å¯¼å›¾ç»„ä»¶

## é¡¹ç›®ç»“æ„

```
smmprojects/
â”œâ”€â”€ backend/                 # Djangoåç«¯
â”‚   â”œâ”€â”€ collaboration_system/   # é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ users/                  # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ projects/              # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ mindmaps/              # æ€ç»´å¯¼å›¾ç®¡ç†
â”‚   â”œâ”€â”€ manage.py
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/               # Vueå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/           # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ stores/          # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/             # APIè°ƒç”¨
â”‚   â”‚   â””â”€â”€ router/          # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ docs/                   # æ–‡æ¡£
```

## æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·æ¨¡å‹ (User)
- æ‰©å±•Djangoé»˜è®¤ç”¨æˆ·æ¨¡å‹
- æ”¯æŒå¤´åƒã€åˆ›å»ºæ—¶é—´ç­‰é¢å¤–å­—æ®µ

### é¡¹ç›®æ¨¡å‹ (Project)
- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€åˆ›å»ºè€…ï¼‰
- å¤šå¯¹å¤šå…³ç³»ç®¡ç†é¡¹ç›®æˆå‘˜

### é¡¹ç›®æˆå‘˜æ¨¡å‹ (ProjectMember)
- ç”¨æˆ·ä¸é¡¹ç›®çš„å…³è”å…³ç³»
- æƒé™çº§åˆ«ï¼šåªè¯»(read)ã€ç¼–è¾‘(edit)ã€ç®¡ç†å‘˜(admin)

### æ€ç»´å¯¼å›¾èŠ‚ç‚¹æ¨¡å‹ (MindMapNode)
- èŠ‚ç‚¹å†…å®¹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€é“¾æ¥ã€å¤‡æ³¨ï¼‰
- æ ·å¼ä¿¡æ¯ï¼ˆé¢œè‰²ã€å­—ä½“ç­‰ï¼‰
- å±‚çº§å…³ç³»ï¼ˆçˆ¶å­èŠ‚ç‚¹ï¼‰
- åˆ›å»ºè€…å’Œæ—¶é—´æˆ³

### èŠ‚ç‚¹ç¼–è¾‘æ—¥å¿— (NodeEditLog)
- è®°å½•æ‰€æœ‰èŠ‚ç‚¹çš„å˜æ›´å†å²
- æ”¯æŒæ“ä½œå›æº¯å’Œå®¡è®¡

## æƒé™è®¾è®¡

### é¡¹ç›®çº§æƒé™
- **åªè¯»(read)**: å¯æŸ¥çœ‹é¡¹ç›®å’Œæ€ç»´å¯¼å›¾ï¼Œä¸èƒ½ç¼–è¾‘
- **ç¼–è¾‘(edit)**: å¯ä»¥åˆ›å»ºå’Œç¼–è¾‘è‡ªå·±çš„èŠ‚ç‚¹ï¼Œå¯åœ¨ä»–äººèŠ‚ç‚¹åæ·»åŠ å­èŠ‚ç‚¹
- **ç®¡ç†å‘˜(admin)**: é¡¹ç›®å®Œå…¨æ§åˆ¶æƒï¼Œå¯ç®¡ç†æˆå‘˜å’Œæƒé™

### èŠ‚ç‚¹çº§æƒé™
- ç”¨æˆ·åªèƒ½ç¼–è¾‘è‡ªå·±åˆ›å»ºçš„èŠ‚ç‚¹
- ä¸èƒ½åˆ é™¤æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹
- ä¸èƒ½åˆ é™¤ä»–äººåˆ›å»ºçš„èŠ‚ç‚¹
- å¯ä»¥åœ¨ä»»ä½•èŠ‚ç‚¹åæ·»åŠ å­èŠ‚ç‚¹

## APIè®¾è®¡

### ç”¨æˆ·API
- `POST /api/users/login/` - ç”¨æˆ·ç™»å½•
- `POST /api/users/logout/` - ç”¨æˆ·ç™»å‡º
- `POST /api/users/` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/users/me/` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/dashboard/` - è·å–ç”¨æˆ·ä»ªè¡¨æ¿æ•°æ®

### é¡¹ç›®API
- `GET /api/projects/` - è·å–é¡¹ç›®åˆ—è¡¨
- `POST /api/projects/` - åˆ›å»ºé¡¹ç›®
- `GET /api/projects/{id}/` - è·å–é¡¹ç›®è¯¦æƒ…
- `PUT /api/projects/{id}/` - æ›´æ–°é¡¹ç›®
- `DELETE /api/projects/{id}/` - åˆ é™¤é¡¹ç›®
- `POST /api/projects/{id}/invite_member/` - é‚€è¯·æˆå‘˜
- `DELETE /api/projects/{id}/remove_member/` - ç§»é™¤æˆå‘˜

### æ€ç»´å¯¼å›¾API
- `GET /api/projects/{id}/nodes/` - è·å–èŠ‚ç‚¹åˆ—è¡¨
- `POST /api/projects/{id}/nodes/` - åˆ›å»ºèŠ‚ç‚¹
- `PUT /api/projects/{id}/nodes/{node_id}/` - æ›´æ–°èŠ‚ç‚¹
- `DELETE /api/projects/{id}/nodes/{node_id}/` - åˆ é™¤èŠ‚ç‚¹
- `GET /api/projects/{id}/nodes/tree/` - è·å–æ ‘å½¢ç»“æ„
- `GET /api/projects/{id}/nodes/simple-mind-map/` - è·å–æ€ç»´å¯¼å›¾æ ¼å¼æ•°æ®

### WebSocket API
- `ws://localhost:8000/ws/mindmap/{project_id}/` - æ€ç»´å¯¼å›¾å®æ—¶åä½œ

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Node.js 16+
- Redis Server

### åç«¯å¯åŠ¨

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```

### å‰ç«¯å¯åŠ¨

```bash
cd frontend
npm install
npm run dev
```

### è®¿é—®åœ°å€
- å‰ç«¯åº”ç”¨: http://localhost:5173
- åç«¯API: http://localhost:8000
- ç®¡ç†åå°: http://localhost:8000/admin

## å¼€å‘è¿›åº¦

### å·²å®Œæˆ âœ…
- [x] é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] é¡¹ç›®ç®¡ç†åŠŸèƒ½
- [x] æ•°æ®åº“æ¨¡å‹è®¾è®¡
- [x] REST APIå¼€å‘
- [x] WebSocketå®æ—¶é€šä¿¡æ¡†æ¶
- [x] å‰ç«¯åŸºç¡€é¡µé¢å’Œç»„ä»¶
- [x] çŠ¶æ€ç®¡ç†å’Œè·¯ç”±é…ç½®

### è¿›è¡Œä¸­ ğŸš§
- [ ] æ€ç»´å¯¼å›¾ç¼–è¾‘å™¨é›†æˆ
- [ ] WebSocketå®æ—¶åä½œåŠŸèƒ½
- [ ] æˆå‘˜ç®¡ç†ç•Œé¢
- [ ] æƒé™æ§åˆ¶å®Œå–„

### å¾…å¼€å‘ ğŸ“‹
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] å¯¼å‡ºåŠŸèƒ½ï¼ˆPDFã€å›¾ç‰‡ç­‰ï¼‰
- [ ] æ“ä½œå†å²å›æ”¾
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å•å…ƒæµ‹è¯•
- [ ] éƒ¨ç½²é…ç½®

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚
